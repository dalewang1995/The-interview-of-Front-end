# 小程序的启动机制

* 冷启动：用户首次打开小程序，或者小程序被微信销毁后重新打开，需要重新加载启动（onLaunch->onShow）

* 热启动：用户已经打开过小程序，在指定时间内再次打开小程序，此时无需重新启动，只是将小程序从后台切换到前台（onShow）

# 小程序的销毁机制

* 主动销毁：小程序没有重启的概念，当小程序进入后台之后，会维持一段时间的运行状态，在超过指定时间之后（一般是5分钟）会被微信主动销毁
* 被动销毁：当小程序在运行过程中在短时间内（一般是5s）连续收到两次以上的内存告警，小程序将会被微信销毁

# 小程序的更新机制

小程序冷启动（重新加载启动）时如果发现有新版本，将会异步下载版本的代码包，并同时将客户端本地的包进行启动，这时最新的代码实际上没有被加载，需要等到小程序下一个冷启动时才会加载，如果需要马上版本更新，可以使用wx.getUpdateManager来手动处理

# 小程序框架对比

多端框架基本实现原理：以JavaScript为基础选定一个DSL框架，以这个DSL框架为基准在各端分别编译出不同的代码，各端分别有一个运行时框架或兼容组件库来保证代码正确运行

* Taro：React语法、集成了ESLint语法检查、支持TS、支持六端、具有跨端组件库，具有Taro-cli可以转译代码（接入成本小）、支持MobX等多种状态管理工具
* WePY：类Vue语法、支持TS
* uni-app：Vue语法，具有自研IDE、支持TS、支持六端
* mp-vue（美团）：Vue语法、支持TS
* chameleon（滴滴）：类Vue、不支持TS

# Taro框架实现原理

运行时框架：@taro/taro，以微信为基准

标准基础组件库：@tarojs/components

标准Api：@taro/taro，以微信为基准